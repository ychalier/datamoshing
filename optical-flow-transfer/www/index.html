<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf8">
    <title>Optical Flow Transfer</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/ychalier/pifekit/pifekit.min.css" />
    <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/ychalier/pifekit/pifekit.min.js"></script>
    <script src="opencv.js"></script>
    <script src="master.js"></script>
    <link rel="stylesheet" href="style.css">
</head>

<body class="dark-blue">
    <div class="container text-center">
        <h1>Optical Flow Transfer</h1>

        <div class="xcolumns">

            <div class="xcolumn-left">
                <div class="media-container" id="container-video">
                    <button class="btn btn-primary" onclick="showModal('modal-load-video')" id="button-video-modal">Load video</button>
                </div>
                <div style="height: .4em"></div>
                <div class="media-container" id="container-image">
                    <button class="btn btn-primary" onclick="showModal('modal-load-image')" id="button-image-modal">Load image</button>
                </div>
            </div>

            <div class="xcolumn-right">
                <div id="container-canvas" rowspan="2">
                    <canvas id="canvas" width="256" height="256"></canvas>
                </div>
                <div class="mt-4">
                    <button class="btn" id="button-reset" disabled>Reset</button>
                    <button class="btn" id="button-download" disabled>Download</button>
                </div>
            </div>

        </div>

    </div>
    <footer class="text-center">
        <p>
            More details on my <a href="https://chalier.fr/blog/datamoshing">blog</a> Â· Images from <a href="https://picsum.photos/">Lorem Picsum</a>
        </p>
    </footer>

    <div class="modal" id="modal-load-video">
        <span class="modal-overlay" onclick="closeModal('modal-load-video')"></span>
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title h5">Load video</div>
                <div class="modal-subtitle text-gray">Load a video from a URL, a local file, or your webcam</div>
            </div>
            <div class="modal-body">
                <div class="form-group pb-2">
                    <label class="form-label" for="input-video-url">URL</label>
                    <input class="form-input" type="url" id="input-video-url" placeholder="https://example.org/axis-cgi/mjpg/video.cgi" />
                </div>
                <div class="divider text-center" data-content="OR"></div>
                <div class="form-group">
                    <label class="form-label" for="input-video-file">File</label>
                    <input class="form-input" type="file" id="input-video-file" accept="video/*" />
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn btn-primary" id="button-video-webcam">Webcam</button>
                <button class="btn btn-primary" id="button-video-load">Load</button>
                <button class="btn" onclick="closeModal('modal-load-video')">Cancel</button>
            </div>
        </div>
    </div>

    <div class="modal" id="modal-load-image">
        <span class="modal-overlay" onclick="closeModal('modal-load-image')"></span>
        <div class="modal-container">
            <div class="modal-header">
                <div class="modal-title h5">Load image</div>
                <div class="modal-subtitle text-gray">Load an image from a URL or a local file</div>
            </div>
            <div class="modal-body">
                <div class="form-group pb-2">
                    <label class="form-label" for="input-image-url">URL</label>
                    <input class="form-input" type="url" id="input-image-url" placeholder="https://example.org/image.jpg" />
                </div>
                <div class="divider text-center" data-content="OR"></div>
                <div class="form-group">
                    <label class="form-label" for="input-image-file">File</label>
                    <input class="form-input" type="file" id="input-image-file" accept="image/*" />
                </div>
            </div>
            
            <div class="modal-footer">
                <button class="btn btn-primary" id="button-image-random">Random</button>
                <button class="btn btn-primary" id="button-image-load">Load</button>
                <button class="btn" onclick="closeModal('modal-load-image')">Cancel</button>
            </div>
        </div>
    </div>

</body>

</html>
